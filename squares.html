<!Doctype html>
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
	<style>
		.div_square{
			display:inline-block;
			background-color:white;
		}
		.changeColor{
			background-color:green;
		}
		#container{
			width:800px;
			margin:40px auto;
		}
		#buttonContainer{
			width:100%;
			display:flex;
			justify-content:space-around;
		}
	</style>
</head>
<body>
<div id="container">
	<div id ="buttonContainer">
	<button id="resetbtn">Reset</button>
	<button id="randomColor">Random Color</button>
	<button id="paintBrush">Paintbrush</button>
	</div>
</div>
<script>
//Inside the document.ready function is the main program
 $(document).ready(function(){
 $('#resetbtn').click(function(){
	reset();
	draw_square_with_value();
	changeColor();
 });
 $('#randomColor').click(function(){
	reset();
	draw_square_with_value();
	randomColor();
 });
 $('#paintBrush').click(function(){
	reset();
	draw_square_with_value();
	$('.div_square').css({"opacity":0.01});
	$('.div_square').css({"background-color":"black"});
	paintBrush();
 });
 
	draw_grid(16); //drawing initial 16X16 grid
	changeColor();
 });
 
 //**Helper functions;
 //There are two draw grid functions, the first one is for the default grid
 //the second one is to draw a grid according to the user's input.
function draw_grid(value){
	for(var i=1;i<=value*value;i++){
			$('#container').append('<div class="div_square"></div>');
		;}
		var width = ($("#container").width())/ value;  
		$(".div_square").css({"width":width ,"height":width});	
		}
		
 function draw_square_with_value(){
	total_squares = prompt("How many square rows? Enter only one number:");
	$('#container').append("<br />");
	for(var i=1;i<=total_squares*total_squares;i++){
			$('#container').append('<div class="div_square"></div>');
		;}
	var width = ($("#container").width())/ total_squares;  
	$(".div_square").css({"width":width ,"height":width});	
	}
	
function reset(){
	$('.div_square').removeClass("changeColor");
	$('.div_square').remove();
	$('br').remove();
}

function changeColor(){
	$('.div_square').hover(function(){
		$(this).addClass("changeColor");
	});
}

function randomColor(){
	 var hue = 'rgb(' + (Math.floor((256-199)*Math.random()) + 200) + ',' + (Math.floor((256-199)*Math.random()) + 200) + ',' + (Math.floor((256-199)*Math.random()) + 200) + ')';
	$('.div_square').hover(function(){
		$(this).css({"background-color":hue});
	});
}
function paintBrush(){
	$('.div_square').hover(function(){
		$(this).css("opacity", $(this).css("opacity") * 2.50);
	}, function(){
		console.log($(this).css("opacity"));
	})
	}
</script>

</body>
</html>